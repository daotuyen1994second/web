"use strict";(self["webpackChunkmedicine"]=self["webpackChunkmedicine"]||[]).push([[107],{3107:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var a=l(3396),i=l(7139);const o={style:{"text-align":"left"}},m={class:"Dialog"},n={class:"dialog-footer"};function r(e,t,l,r,s,d){const u=(0,a.up)("el-text"),h=(0,a.up)("el-divider"),c=(0,a.up)("Plus"),p=(0,a.up)("el-icon"),f=(0,a.up)("el-button"),w=(0,a.up)("el-col"),g=(0,a.up)("el-row"),b=(0,a.up)("el-table-column"),_=(0,a.up)("Delete"),W=(0,a.up)("el-popconfirm"),y=(0,a.up)("Edit"),E=(0,a.up)("el-table"),$=(0,a.up)("el-option"),S=(0,a.up)("el-select"),F=(0,a.up)("el-form-item"),M=(0,a.up)("el-input"),k=(0,a.up)("el-form"),N=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h3",o,[(0,a.Wm)(u,{size:"large"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Thông tin admin phụ trách hệ thống quản lý thuốc:")),1)])),_:1})]),(0,a.Wm)(h),s.isRoledMaintain?((0,a.wg)(),(0,a.j4)(g,{key:0,gutter:24,justify:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{md:5},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{size:"large",type:"success",onClick:t[0]||(t[0]=e=>d.showAddNew()),plain:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Uk)("  "+(0,i.zw)(e.$t("Thêm thông tin")),1)])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0),null!=s.contactLs&&s.contactLs.length>0?((0,a.wg)(),(0,a.j4)(E,{key:1,data:this.contactLs,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{type:"index",label:e.$t("Số thứ tự"),width:"100"},null,8,["label"]),(0,a.Wm)(b,{prop:"F_FACTORYZONE",label:e.$t("Khu vực xưởng/Phòng y tế")},null,8,["label"]),(0,a.Wm)(b,{prop:"F_EMPNAME",label:e.$t("Họ và tên")},null,8,["label"]),(0,a.Wm)(b,{prop:"F_EMPPHONE",label:e.$t("Số điện thoại bàn")},null,8,["label"]),(0,a.Wm)(b,{prop:"F_EMPMOBILE",label:e.$t("Số điện thoại di động")},null,8,["label"]),(0,a.Wm)(b,{prop:"F_EMPMAIL",label:e.$t("Email")},null,8,["label"]),s.isRoledMaintain?((0,a.wg)(),(0,a.j4)(b,{key:0,fixed:"right",label:e.$t("Hành động"),width:"200"},{default:(0,a.w5)((t=>[(0,a.Wm)(W,{"confirm-button-text":e.$t("Có"),"cancel-button-text":e.$t("Không"),icon:e.InfoFilled,"icon-color":"#626AEF",title:e.$t("Bạn có chắc chắn muốn thao tác?"),onConfirm:e=>d.DeleteAdminInfor(t.row.F_ROW_ID)},{reference:(0,a.w5)((()=>[(0,a.Wm)(f,{size:"small",type:"danger",plain:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_)])),_:1}),(0,a.Uk)("   "+(0,i.zw)(e.$t("Xóa")),1)])),_:1})])),_:2},1032,["confirm-button-text","cancel-button-text","icon","title","onConfirm"]),(0,a.Wm)(f,{size:"small",type:"success",plain:"",onClick:e=>d.ShowUpdate(t.row)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y)])),_:1}),(0,a.Uk)("   "+(0,i.zw)(e.$t("Sửa")),1)])),_:2},1032,["onClick"])])),_:1},8,["label"])):(0,a.kq)("",!0)])),_:1},8,["data"])):(0,a.kq)("",!0),(0,a._)("div",m,[(0,a.Wm)(N,{class:"Form tao hoac edit tai khoan",modelValue:s.isShowSignDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>s.isShowSignDialog=e),title:s.frm.isAddNew?e.$t("Thêm thông tin mới"):e.$t("Cập nhật thông tin"),width:"500"},{footer:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(f,{plain:"",type:"primary",onClick:t[6]||(t[6]=e=>d.Save())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Lưu")),1)])),_:1}),(0,a.Wm)(f,{plain:"",type:"warning",onClick:t[7]||(t[7]=e=>s.isShowSignDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Hủy bỏ")),1)])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(F,{label:e.$t("Khu vực xưởng/Phòng y tế:"),rules:[{required:!0}]},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:s.frm.factoryZone,"onUpdate:modelValue":t[1]||(t[1]=e=>s.frm.factoryZone=e),placeholder:e.$t("Chọn khu vực có quyền"),style:{width:"240px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.factoryLsTotal,(e=>((0,a.wg)(),(0,a.j4)($,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(F,{label:e.$t("Họ và tên"),rules:[{required:!0}]},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{modelValue:s.frm.empName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.frm.empName=e),placeholder:e.$t("Nhập vào họ tên")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(F,{label:e.$t("Số điện thoại bàn:"),rules:[{required:!0}]},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{modelValue:s.frm.emPhone,"onUpdate:modelValue":t[3]||(t[3]=e=>s.frm.emPhone=e),placeholder:e.$t("Nhập vào Số điện thoại bàn")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(F,{label:e.$t("Số điện thoại di động:"),rules:[{required:!0}]},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{modelValue:s.frm.empMobile,"onUpdate:modelValue":t[4]||(t[4]=e=>s.frm.empMobile=e),placeholder:e.$t("Nhập vào Số điện thoại di động")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(F,{label:e.$t("Email:"),rules:[{required:!0}]},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{modelValue:s.frm.empEmail,"onUpdate:modelValue":t[5]||(t[5]=e=>s.frm.empEmail=e),placeholder:e.$t("Nhập vào Email")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1})])),_:1},8,["modelValue","title"])])],64)}l(560);var s=l(1822),d=l(7178),u={name:"ContactList",data(){return{frm:{rowID:"",factoryZone:"",empName:"",emPhone:"",empMobile:"",empEmail:"",isAddNew:!1},contactLs:null,factoryLsTotal:[],isShowSignDialog:!1,isRoledMaintain:!1}},methods:{DeleteAdminInfor(e){s.Z.DeleteAdminInfor({rowID:e},(e=>{"error"==e.data.status?d.z8.error(e.data.message):(d.z8.success(e.data.message),this.GetContactLs())}),(e=>{d.z8.error(e.message)}))},ShowUpdate(e){this.resetFrm(),this.frm.rowID=e.F_ROW_ID,this.frm.factoryZone=e.F_FACTORYZONE,this.frm.empName=e.F_EMPNAME,this.frm.emPhone=e.F_EMPPHONE,this.frm.empMobile=e.F_EMPMOBILE,this.frm.empEmail=e.F_EMPMAIL,this.frm.isAddNew=!1,this.isShowSignDialog=!0},Save(){this.frm.empName=this.frm.empName?.trim(),this.frm.emPhone=this.frm.emPhone?.trim(),this.frm.empMobile=this.frm.empMobile?.trim(),this.frm.empEmail=this.frm.empEmail?.trim(),s.Z.AddOrUpdateAdminInfor(this.frm,(e=>{"error"==e.data.status?d.z8.error(e.data.message):(this.isShowSignDialog=!1,d.z8.success(e.data.message),this.GetContactLs())}),(e=>{d.z8.error(e.message)}))},GetFactoryZone(){this.factoryLsTotal=[],s.Z.GetFactoryZone((e=>{e.data.data&&e.data.data.forEach((e=>{this.factoryLsTotal.push(e.F_DATA2)}))}),(e=>{d.z8.error(e.message)}))},resetFrm(){this.frm.isAddNew=!1,this.isShowSignDialog=!1,this.frm.factoryZone="",this.frm.empName="",this.frm.emPhone="",this.frm.empMobile="",this.frm.empEmail=""},showAddNew(){this.resetFrm(),this.frm.isAddNew=!0,this.isShowSignDialog=!0},GetContactLs(){s.Z.GetContactLs((e=>{"success"==e?.data?.status?this.contactLs=e?.data?.data:d.z8.error(e?.data?.message)}),(e=>{d.z8.error(e.message)}))}},created(){this.GetContactLs(),this.GetFactoryZone();let e=this.$store.state.empInfor.F_ROLE;this.isRoledMaintain=e&&(e.split(";").includes("superadmin")||e.split(";").includes("admin"))}},h=l(89);const c=(0,h.Z)(u,[["render",r]]);var p=c}}]);