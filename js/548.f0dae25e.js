"use strict";(self["webpackChunkmedicine"]=self["webpackChunkmedicine"]||[]).push([[548],{3548:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(3396),i=a(7139);const n={style:{"text-align":"left"}},o={class:"Form tra cuu danh sach luu trinh don xin bao phe theo khu xuong"},r=(0,l._)("br",null,null,-1),s=(0,l._)("br",null,null,-1),u=(0,l._)("br",null,null,-1),d=(0,l._)("br",null,null,-1),m={class:"Dialog"},h={class:"dialog-footer"};function g(e,t,a,g,p,c){const f=(0,l.up)("el-text"),w=(0,l.up)("el-divider"),S=(0,l.up)("Plus"),b=(0,l.up)("el-icon"),_=(0,l.up)("el-button"),C=(0,l.up)("el-col"),N=(0,l.up)("el-row"),W=(0,l.up)("el-input"),y=(0,l.up)("el-table-column"),k=(0,l.up)("Edit"),z=(0,l.up)("el-table"),$=(0,l.up)("el-pagination"),T=(0,l.up)("el-form-item"),A=(0,l.up)("el-option"),D=(0,l.up)("el-select"),F=(0,l.up)("el-form"),v=(0,l.up)("el-dialog"),O=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("h3",n,[(0,l.Wm)(f,{size:"large"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.$t("Thiết lập lưu trình ký đơn xin báo phế:")),1)])),_:1})]),(0,l.Wm)(w),(0,l.Wm)(N,{gutter:24,justify:"start"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{md:5},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{size:"large",type:"success",onClick:t[0]||(t[0]=e=>c.showAddNew()),plain:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(S)])),_:1}),(0,l.Uk)("  "+(0,i.zw)(e.$t("Thêm lưu trình mới")),1)])),_:1})])),_:1})])),_:1}),(0,l._)("div",o,[(0,l.Wm)(N,{gutter:24,justify:"end"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{md:4},{default:(0,l.w5)((()=>[r,(0,l.Wm)(W,{modelValue:p.search,"onUpdate:modelValue":t[1]||(t[1]=e=>p.search=e),placeholder:e.$t("Mã thẻ/Tên trạm ký/Khu vực xưởng"),clearable:""},null,8,["modelValue","placeholder"])])),_:1}),(0,l.Wm)(C,{md:3},{default:(0,l.w5)((()=>[s,(0,l.Wm)(_,{onClick:c.SearchData},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.$t("Tìm kiếm")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),u,(0,l.wy)(((0,l.wg)(),(0,l.j4)(z,{data:p.tableData,key:p.tableKey,"element-loading-text":e.$t("Đang tải"),"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{type:"index",sortable:"",label:e.$t("Số thứ tự"),width:"100"},null,8,["label"]),(0,l.Wm)(y,{prop:"F_SIGN_FACTORY_ZONE",sortable:"",label:e.$t("Khu vực xưởng/phòng y tế")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_SIGN_STATION",sortable:"",label:e.$t("Tên trạm ký")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_SIGN_EMP",sortable:"",label:e.$t("Mã thẻ người ký")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_CREATE_EMPNO",sortable:"",label:e.$t("Người tạo")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_CREATE_DATE",sortable:"",label:e.$t("Ngày tạo")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_SYSID",sortable:"",label:e.$t("Người cập nhật")},null,8,["label"]),(0,l.Wm)(y,{prop:"F_SYSDATE",sortable:"",label:e.$t("Ngày cập nhật")},null,8,["label"]),(0,l.Wm)(y,{label:e.$t("Hành động"),fixed:"right",width:"200"},{default:(0,l.w5)((t=>[(0,l.Wm)(_,{size:"small",type:"success",plain:"",onClick:e=>c.ShowUpdate(t.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k)])),_:1}),(0,l.Uk)("   "+(0,i.zw)(e.$t("Sửa")),1)])),_:2},1032,["onClick"])])),_:1},8,["label"])])),_:1},8,["data","element-loading-text"])),[[O,p.Loading]]),d,(0,l.Wm)($,{onSizeChange:c.handleSizeChange,onCurrentChange:c.handleCurrentChange,"current-page":p.currentPage,"page-sizes":[10,20,30,40],"page-size":p.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:p.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,l._)("div",m,[(0,l.Wm)(v,{class:"Form tao hoac edit luu trinh ky",modelValue:p.isShowSignDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>p.isShowSignDialog=e),title:p.frm.isAddNew?e.$t("Tạo mới"):e.$t("Cập nhật"),width:"500"},{footer:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.Wm)(_,{plain:"",type:"primary",onClick:t[5]||(t[5]=e=>c.Save())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.$t("Lưu")),1)])),_:1}),(0,l.Wm)(_,{plain:"",type:"warning",onClick:t[6]||(t[6]=e=>p.isShowSignDialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.$t("Hủy bỏ")),1)])),_:1})])])),default:(0,l.w5)((()=>[(0,l.Wm)(F,null,{default:(0,l.w5)((()=>[(0,l.Wm)(T,{label:e.$t("Mã thẻ người ký"),rules:[{required:!0}]},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{modelValue:p.frm.empNo,"onUpdate:modelValue":t[2]||(t[2]=e=>p.frm.empNo=e),placeholder:e.$t("Nhập vào mã thẻ"),clearable:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,l.Wm)(T,{label:e.$t("Trạm ký:"),rules:[{required:!0}]},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{disabled:0==p.frm.isAddNew,modelValue:p.frm.stationName,"onUpdate:modelValue":t[3]||(t[3]=e=>p.frm.stationName=e),placeholder:e.$t("Chọn trạm ký"),style:{width:"240px"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.stationNameLs,(e=>((0,l.wg)(),(0,l.j4)(A,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue","placeholder"])])),_:1},8,["label"]),(0,l.Wm)(T,{label:e.$t("Khu vực xưởng/Phòng y tế:"),rules:[{required:!0}]},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{disabled:0==p.frm.isAddNew,modelValue:p.frm.factoryZone,"onUpdate:modelValue":t[4]||(t[4]=e=>p.frm.factoryZone=e),placeholder:e.$t("Chọn khu vực"),style:{width:"240px"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.factoryLsTotal,(e=>((0,l.wg)(),(0,l.j4)(A,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue","placeholder"])])),_:1},8,["label"])])),_:1})])),_:1},8,["modelValue","title"])])],64)}var p=a(1822),c=a(7178),f={name:"MaintainSignRoutingForScrap",data(){return{frm:{empNo:"",stationName:"",factoryZone:"",isAddNew:!1},stationNameLs:["Chủ quản đơn vị báo phế/Manager of the scrap unit","Kết án/Judge"],isShowSignDialog:!1,factoryLsTotal:[],Loading:!1,tableData:[],tableKey:0,search:"",currentPage:1,pageSize:10,total:0}},methods:{Save(){p.Z.AddOrUpdateCSignRoutingForScrap(this.frm,(e=>{"error"==e.data.status?c.z8.error(e?.data?.message):(c.z8.success(e?.data?.message),this.isShowSignDialog=!1,this.GetCSignRoutingOfScrap())}),(e=>{c.z8.error(e.message)}))},ShowUpdate(e){this.resetFrm(),this.frm.empNo=e.F_SIGN_EMP,this.frm.stationName=e.F_SIGN_STATION,this.frm.factoryZone=e.F_SIGN_FACTORY_ZONE,this.frm.isAddNew=!1,this.isShowSignDialog=!0},showAddNew(){this.resetFrm(),this.frm.isAddNew=!0,this.isShowSignDialog=!0},resetFrm(){this.frm.isAddNew=!1,this.isShowSignDialog=!1,this.frm.empNo="",this.frm.stationName="",this.frm.factoryZone=""},GetAccountInfor(){this.factoryLsTotal=[],p.Z.CheckSession((e=>{"error"==e.data.status?c.z8.error(e?.data?.message):this.factoryLsTotal=e.data.data.F_FACTORYZONE_LS}),(e=>{c.z8.error(e.message)}))},GetCSignRoutingOfScrap(){this.tableData=[],this.Loading=!0,p.Z.GetCSignRoutingOfScrap({search:this.search,page:this.currentPage,pageSize:this.pageSize},(e=>{if(this.Loading=!1,"error"==e.data.status)c.z8.error(e?.data?.message);else{let t=e.data.data;this.tableData=t.items,this.total=t.totalCount,this.tableKey+=1}}),(e=>{this.Loading=!1,c.z8.error(e.message)}))},SearchData(){this.GetCSignRoutingOfScrap()},handleSizeChange(e){this.pageSize=e,this.GetCSignRoutingOfScrap()},handleCurrentChange(e){this.currentPage=e,this.GetCSignRoutingOfScrap()}},created(){this.GetCSignRoutingOfScrap(),this.GetAccountInfor()}},w=a(89);const S=(0,w.Z)(f,[["render",g]]);var b=S}}]);